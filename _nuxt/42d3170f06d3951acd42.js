(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{172:function(t,e,s){var i=s(178);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,s(24).default)("53cc8d6e",i,!0,{})},173:function(t,e,s){var i=s(180);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,s(24).default)("bcb423e4",i,!0,{})},174:function(t,e,s){var i=s(182);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,s(24).default)("35cd0c0e",i,!0,{})},175:function(t,e,s){var i=s(189);"string"==typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);(0,s(24).default)("798c3abc",i,!0,{})},176:function(t,e,s){t.exports=s.p+"img/9124c6a.png"},177:function(t,e,s){"use strict";var i=s(172);s.n(i).a},178:function(t,e,s){(t.exports=s(23)(!1)).push([t.i,"\n.justified-grid{display:flex;flex-wrap:wrap;align-items:flex-start;align-content:flex-start;justify-content:space-evenly\n}",""])},179:function(t,e,s){"use strict";var i=s(173);s.n(i).a},180:function(t,e,s){(t.exports=s(23)(!1)).push([t.i,"\n@-webkit-keyframes spinAround{\n0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)\n}\nto{-webkit-transform:rotate(359deg);transform:rotate(359deg)\n}\n}\n@keyframes spinAround{\n0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)\n}\nto{-webkit-transform:rotate(359deg);transform:rotate(359deg)\n}\n}\n.grid-item{display:block;margin:6px 0;text-align:center;max-width:384px;max-height:216px;width:384px;height:216px;border:1px solid #0f0f0f\n}\n.grid-item>img{display:block;width:384px;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:50% 50%;object-position:50% 50%\n}",""])},181:function(t,e,s){"use strict";var i=s(174);s.n(i).a},182:function(t,e,s){(t.exports=s(23)(!1)).push([t.i,'\n.google-loader{position:relative;margin:0 auto;width:100px\n}\n.google-loader:before{content:"";display:block;padding-top:100%\n}\n.circular{-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:100%;-webkit-transform-origin:center center;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto\n}\n.path{stroke-dasharray:1,200;stroke-dashoffset:0;-webkit-animation:dash 1.5s ease-in-out infinite,color 6s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 6s ease-in-out infinite;stroke-linecap:round\n}\n@-webkit-keyframes rotate{\nto{-webkit-transform:rotate(1turn);transform:rotate(1turn)\n}\n}\n@keyframes rotate{\nto{-webkit-transform:rotate(1turn);transform:rotate(1turn)\n}\n}\n@-webkit-keyframes dash{\n0%{stroke-dasharray:1,200;stroke-dashoffset:0\n}\n50%{stroke-dasharray:89,200;stroke-dashoffset:-35px\n}\nto{stroke-dasharray:89,200;stroke-dashoffset:-124px\n}\n}\n@keyframes dash{\n0%{stroke-dasharray:1,200;stroke-dashoffset:0\n}\n50%{stroke-dasharray:89,200;stroke-dashoffset:-35px\n}\nto{stroke-dasharray:89,200;stroke-dashoffset:-124px\n}\n}\n@-webkit-keyframes color{\n0%,to{stroke:#d62d20\n}\n40%{stroke:#0057e7\n}\n66%{stroke:#008744\n}\n80%,90%{stroke:#ffa700\n}\n}\n@keyframes color{\n0%,to{stroke:#d62d20\n}\n40%{stroke:#0057e7\n}\n66%{stroke:#008744\n}\n80%,90%{stroke:#ffa700\n}\n}',""])},188:function(t,e,s){"use strict";var i=s(175);s.n(i).a},189:function(t,e,s){(t.exports=s(23)(!1)).push([t.i,"\nnav.navbar img.navbar-item{padding:0;height:3.25rem\n}\n.grid-item{cursor:pointer;overflow:hidden;position:relative\n}\n.grid-item img{transition:-webkit-filter .33s ease-out;transition:filter .33s ease-out;transition:filter .33s ease-out,-webkit-filter .33s ease-out;-webkit-filter:blur(0);filter:blur(0)\n}\n.grid-item img.blurry{-webkit-filter:blur(4px);filter:blur(4px)\n}\n.grid-item .message{display:flex;justify-content:center;align-items:center;pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);opacity:1;transition:opacity .33s ease-in;color:#fff;font-size:2em\n}\n.grid-item .message:empty{opacity:0\n}\n.grid-item .details{display:block;position:absolute;text-align:left;padding:4px 8px;bottom:0;left:0;width:100%;background:rgba(0,0,0,.5);-webkit-transform:translateY(100%);transform:translateY(100%);-webkit-transform-origin:center bottom;transform-origin:center bottom;opacity:0;transition:opacity .25s ease-in,-webkit-transform .25s ease-in;transition:transform .25s ease-in,opacity .25s ease-in;transition:transform .25s ease-in,opacity .25s ease-in,-webkit-transform .25s ease-in\n}\n.grid-item .details .votes{float:right\n}\n.grid-item .details .votes .downvotes,.grid-item .details .votes .upvotes{display:inline-flex;align-content:center;margin:0 4px\n}\n.grid-item .details .votes .downvotes span,.grid-item .details .votes .upvotes span{margin:0 4px\n}\n.grid-item .details .votes .downvotes.has-voted~.upvotes:not(.has-voted),.grid-item .details .votes .upvotes.has-voted~.downvotes:not(.has-voted){-webkit-filter:grayscale(50%) brightness(75%);filter:grayscale(50%) brightness(75%)\n}\n.grid-item:hover .details{-webkit-transform:translateY(0);transform:translateY(0);opacity:1\n}\n.google-loading{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)\n}",""])},190:function(t,e,s){"use strict";s.r(e);var i=[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{attrs:{href:"https://metastruct.net"}},[e("img",{staticClass:"navbar-item",attrs:{src:s(176)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"hero is-small is-primary is-bold"},[e("div",{staticClass:"hero-body"},[e("div",{staticClass:"container"},[e("h1",{staticClass:"title"},[this._v("Loading Screens")]),e("h2",{staticClass:"subtitle"},[this._v("Click on a picture to view it in full."),e("br"),this._v("Log in to vote for your favorite pictures!"),e("br"),this._v("(soon admins will be able to manage loading screens)")])])])])}],a=(s(93),s(91),s(92),s(29),s(94),s(95),s(0)),n=(s(177),s(15)),o=Object(n.a)({},function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"justified-grid"},[this._t("default")],2)},[],!1,null,null,null);o.options.__file="MyJustifiedGrid.vue";var r=o.exports,c={data:function(){return{isVisible:!1}},methods:{visibilityChanged:function(t){this.isVisible=t}}},l=(s(179),Object(n.a)(c,function(){var t=this.$createElement;return(this._self._c||t)("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:this.visibilityChanged,expression:"visibilityChanged"}],staticClass:"grid-item"},[this.isVisible?this._t("default"):this._e()],2)},[],!1,null,null,null));l.options.__file="MyJustifiedGridItem.vue";var d=l.exports,u=(s(181),Object(n.a)({},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"google-loader"},[e("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[e("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"2","stroke-miterlimit":"10"}})])])},[],!1,null,null,null));u.options.__file="Loading.vue";var f=u.exports,h=s(82),v=s.n(h),m=s(183),p=s.n(m),g=s(184),b=s.n(g);v.a.defaults.withCredentials=!0;var k={components:{MyJustifiedGrid:r,MyJustifiedGridItem:d,Loading:f},data:function(){return{dropdowns:[!1],burger:!1,notifications:[],screenshots:[],myVotes:[],sortMethods:["ID","Rating","Last added","Author"],sortMethod:1,sortMethodReverse:!0,authorSearch:"",authed:null}},mounted:function(){var t=this;v.a.get("http://g2.metastruct.net:2095/lsapi").then(function(e){t.screenshots=e.data.result}),v.a.post("https://g2cf.metastruct.net/lsapi/auth").then(function(e){e.data&&e.data.success&&(t.authed=e.data,v.a.get("https://g2cf.metastruct.net/lsapi/myvotes").then(function(e){e.data&&e.data.success&&(t.myVotes=e.data.votes)}))}).catch(function(t){t.response&&401==t.response.status||console.error(t)})},computed:{sortedScreenshots:function(){var t=this,e=this.screenshots.sort(function(e,s){switch(t.sortMethod){default:case 0:return e.id>s.id;case 1:var i=p()(e.up,e.up+e.down).left,a=p()(s.up,s.up+s.down).left;return i==a?e.id>s.id:i>a;case 2:return e.created==s.created?e.id>s.id:e.created>s.created;case 3:var n=e.name.toLowerCase(),o=s.name.toLowerCase();return n==o?e.id>s.id:n>o}});if(e)return this.sortMethodReverse&&(e=e.reverse()),e.filter(function(e){return e.name.toLowerCase().includes(t.authorSearch.toLowerCase())})}},watch:{sortMethod:function(){var t=this;this.$nextTick(function(){t.$forceUpdate()})},authorSearch:function(){var t=this;this.$nextTick(function(){t.$forceUpdate()})}},methods:{toggleDropdown:function(t){this.$set(this.dropdowns,t,!this.dropdowns[t])},viewScreenshot:function(t){window.open(t,"_blank")},getProfileURL:function(t){return"https://steamcommunity.com/profiles/"+b.a.fromIndividualAccountID(t).getSteamID64()},vote:function(t,e){var s,i=this,n=(s={csrf_token:this.authed.csrf_token},new URLSearchParams(s).toString());v.a.post("https://g2cf.metastruct.net/lsapi/vote/".concat(t,"/").concat(e,"?").concat(n)).then(function(s){if(s.data.errors)throw Error(s.data.errors.join("\n"));var n;switch(e){case"up":case"down":n=e+"voted!";break;case"delete":n="vote removed!"}var o=i.notifications[t]||{};a.a.set(i.notifications,t,o),a.a.set(o,"message",n),o.timeout&&clearTimeout(o.timeout),o.timeout=setTimeout(function(){a.a.set(o,"message","")},3e3)}).catch(function(s){s.response&&304==s.response.status&&"delete"!=e?i.vote(t,"delete"):console.error(s)})},getOwnVote:function(t){if(!Array.isArray(this.myVotes))return null;var e=this.myVotes?this.myVotes.find(function(e){return e[0]==t}):null;return e?e[1]:null}}},w=(s(188),Object(n.a)(k,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{staticClass:"navbar is-fixed-top"},[s("div",{staticClass:"navbar-brand"},[t._m(0),s("a",{staticClass:"navbar-burger has-text-white",class:{"is-active":t.burger},on:{click:function(e){t.burger=!t.burger}}},[s("span"),s("span"),s("span")])]),s("div",{staticClass:"navbar-menu",class:{"is-active":t.burger}},[s("div",{staticClass:"navbar-start"},[s("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[s("a",{staticClass:"navbar-link"},[t._v("Sort by")]),s("div",{staticClass:"navbar-dropdown"},[t._l(t.sortMethods,function(e,i){return s("a",{staticClass:"navbar-item",class:{"is-active":t.sortMethod==i},on:{click:function(e){t.sortMethod=i}}},[t._v(t._s(e))])}),s("hr",{staticClass:"navbar-divider"}),s("a",{staticClass:"navbar-item",class:{"is-active":0==t.sortMethodReverse},on:{click:function(e){t.sortMethodReverse=!1}}},[t._v("Ascending")]),s("a",{staticClass:"navbar-item",class:{"is-active":1==t.sortMethodReverse},on:{click:function(e){t.sortMethodReverse=!0}}},[t._v("Descending")])],2)]),s("div",{staticClass:"navbar-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.authorSearch,expression:"authorSearch"}],staticClass:"input",attrs:{type:"text",placeholder:"Filter by author"},domProps:{value:t.authorSearch},on:{input:function(e){e.target.composing||(t.authorSearch=e.target.value)}}})])]),s("div",{staticClass:"navbar-end"},[t.authed?s("div",{staticClass:"navbar-item"},[s("span",[t._v("Logged in")])]):s("a",{staticClass:"navbar-item",staticStyle:{display:"flex"},attrs:{href:"https://g2cf.metastruct.net/lsapi/login"}},[s("i",{staticClass:"material-icons md-light"},[t._v("person")]),s("span",[t._v("Â Login")])])])])]),t._m(1),s("section",{staticClass:"section"},[t.screenshots.length>0?s("my-justified-grid",{ref:"grid"},t._l(t.sortedScreenshots,function(e){return s("my-justified-grid-item",[s("img",{class:{blurry:t.notifications[e.id]&&t.notifications[e.id].message},attrs:{src:"https://g2cf.metastruct.net/lsapi/i/"+e.id+".jpg"},on:{click:function(s){t.viewScreenshot("http://"+e.url)}}}),s("div",{staticClass:"message"},[t._v(t._s(t.notifications[e.id]?t.notifications[e.id].message:""))]),s("div",{staticClass:"details"},[s("div",{staticClass:"votes"},[s(t.authed?"a":"div",{tag:"component",staticClass:"upvotes has-text-success",class:{"has-voted":1==t.getOwnVote(e.id)},on:{click:function(s){t.vote(e.id,"up")}}},[s("i",{staticClass:"material-icons md-light"},[t._v("thumb_up")]),s("span",[t._v(t._s(e.up))])]),s(t.authed?"a":"div",{tag:"component",staticClass:"downvotes has-text-danger",class:{"has-voted":0==t.getOwnVote(e.id)},on:{click:function(s){t.vote(e.id,"down")}}},[s("i",{staticClass:"material-icons md-light"},[t._v("thumb_down")]),s("span",[t._v(t._s(e.down))])])],1),0!=e.accountid?s("a",{staticClass:"is-dark",attrs:{href:t.getProfileURL(e.accountid),target:"_blank"}},[t._v(t._s(e.name))]):s("p",[t._v(t._s(e.name))])])])})):s("div",{staticClass:"google-loading"},[s("Loading")],1)],1)])},i,!1,null,null,null));w.options.__file="index.vue";e.default=w.exports}}]);