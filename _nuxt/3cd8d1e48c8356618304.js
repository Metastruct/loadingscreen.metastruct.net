(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{175:function(t,e,s){var n=s(185);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,s(25).default)("54b6170c",n,!0,{})},176:function(t,e,s){var n=s(187);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,s(25).default)("f0f87c74",n,!0,{})},177:function(t,e,s){var n=s(189);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,s(25).default)("35cd0c0e",n,!0,{})},178:function(t,e,s){var n=s(192);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,s(25).default)("798c3abc",n,!0,{})},180:function(t,e,s){t.exports=s.p+"img/9124c6a.png"},184:function(t,e,s){"use strict";var n=s(175);s.n(n).a},185:function(t,e,s){(t.exports=s(24)(!1)).push([t.i,"\n@-webkit-keyframes spinAround{\n0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)\n}\nto{-webkit-transform:rotate(359deg);transform:rotate(359deg)\n}\n}\n@keyframes spinAround{\n0%{-webkit-transform:rotate(0deg);transform:rotate(0deg)\n}\nto{-webkit-transform:rotate(359deg);transform:rotate(359deg)\n}\n}\n.screenshot{display:block;margin:6px 0;text-align:center;max-width:384px;max-height:216px;width:384px;height:216px;border:1px solid #0f0f0f;cursor:pointer;overflow:hidden;position:relative\n}\n.screenshot>img{display:block;width:384px;height:100%;-o-object-fit:cover;object-fit:cover;-o-object-position:50% 50%;object-position:50% 50%\n}\n.screenshot img{transition:-webkit-filter .33s ease-out;transition:filter .33s ease-out;transition:filter .33s ease-out,-webkit-filter .33s ease-out;-webkit-filter:blur(0);filter:blur(0)\n}\n.screenshot img.blurry{-webkit-filter:blur(4px);filter:blur(4px)\n}\n.screenshot .message{display:flex;justify-content:center;align-items:center;pointer-events:none;position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,.5);opacity:1;transition:opacity .33s ease-in;color:#fff;font-size:2em\n}\n.screenshot .message:empty{opacity:0\n}\n.screenshot .details{display:block;position:absolute;text-align:left;padding:4px 8px;bottom:0;left:0;width:100%;background:rgba(0,0,0,.5);-webkit-transform:translateY(100%);transform:translateY(100%);-webkit-transform-origin:center bottom;transform-origin:center bottom;opacity:0;transition:opacity .25s ease-in,-webkit-transform .25s ease-in;transition:transform .25s ease-in,opacity .25s ease-in;transition:transform .25s ease-in,opacity .25s ease-in,-webkit-transform .25s ease-in\n}\n.screenshot .details .votes{float:right\n}\n.screenshot .details .votes .downvotes,.screenshot .details .votes .upvotes{display:inline-flex;align-content:center;margin:0 4px\n}\n.screenshot .details .votes .downvotes span,.screenshot .details .votes .upvotes span{margin:0 4px\n}\n.screenshot .details .votes .downvotes.unvoted,.screenshot .details .votes .upvotes.unvoted{-webkit-filter:grayscale(50%) brightness(75%);filter:grayscale(50%) brightness(75%)\n}\n.screenshot:hover .details{-webkit-transform:translateY(0);transform:translateY(0);opacity:1\n}",""])},186:function(t,e,s){"use strict";var n=s(176);s.n(n).a},187:function(t,e,s){(t.exports=s(24)(!1)).push([t.i,"\n.screenshot-grid{display:flex;flex-wrap:wrap;align-items:flex-start;align-content:flex-start;justify-content:space-evenly\n}",""])},188:function(t,e,s){"use strict";var n=s(177);s.n(n).a},189:function(t,e,s){(t.exports=s(24)(!1)).push([t.i,'\n.google-loader{position:relative;margin:0 auto;width:100px\n}\n.google-loader:before{content:"";display:block;padding-top:100%\n}\n.circular{-webkit-animation:rotate 2s linear infinite;animation:rotate 2s linear infinite;height:100%;-webkit-transform-origin:center center;transform-origin:center center;width:100%;position:absolute;top:0;bottom:0;left:0;right:0;margin:auto\n}\n.path{stroke-dasharray:1,200;stroke-dashoffset:0;-webkit-animation:dash 1.5s ease-in-out infinite,color 6s ease-in-out infinite;animation:dash 1.5s ease-in-out infinite,color 6s ease-in-out infinite;stroke-linecap:round\n}\n@-webkit-keyframes rotate{\nto{-webkit-transform:rotate(1turn);transform:rotate(1turn)\n}\n}\n@keyframes rotate{\nto{-webkit-transform:rotate(1turn);transform:rotate(1turn)\n}\n}\n@-webkit-keyframes dash{\n0%{stroke-dasharray:1,200;stroke-dashoffset:0\n}\n50%{stroke-dasharray:89,200;stroke-dashoffset:-35px\n}\nto{stroke-dasharray:89,200;stroke-dashoffset:-124px\n}\n}\n@keyframes dash{\n0%{stroke-dasharray:1,200;stroke-dashoffset:0\n}\n50%{stroke-dasharray:89,200;stroke-dashoffset:-35px\n}\nto{stroke-dasharray:89,200;stroke-dashoffset:-124px\n}\n}\n@-webkit-keyframes color{\n0%,to{stroke:#d62d20\n}\n40%{stroke:#0057e7\n}\n66%{stroke:#008744\n}\n80%,90%{stroke:#ffa700\n}\n}\n@keyframes color{\n0%,to{stroke:#d62d20\n}\n40%{stroke:#0057e7\n}\n66%{stroke:#008744\n}\n80%,90%{stroke:#ffa700\n}\n}',""])},191:function(t,e,s){"use strict";var n=s(178);s.n(n).a},192:function(t,e,s){(t.exports=s(24)(!1)).push([t.i,"\nnav.navbar img.navbar-item{padding:0;height:3.25rem\n}\n.google-loading{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%)\n}",""])},193:function(t,e,s){"use strict";s.r(e);var n=[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{attrs:{href:"https://metastruct.net"}},[e("img",{staticClass:"navbar-item",attrs:{src:s(180)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("section",{staticClass:"hero is-small is-primary is-bold"},[e("div",{staticClass:"hero-body"},[e("div",{staticClass:"container"},[e("h1",{staticClass:"title"},[this._v("Loading Screens")]),e("h2",{staticClass:"subtitle"},[this._v("Click on a picture to view it in full."),e("br"),this._v("Log in to vote for your favorite pictures!"),e("br"),this._v("(soon admins will be able to manage loading screens)")])])])])}],a=(s(61),s(62),s(26),s(0),s(96),s(97),s(98),s(63)),r=s.n(a),o=s(179),i=s.n(o);var c={props:["screenshot"],data:function(){return{isVisible:!1,message:"",timeout:null}},methods:{visibilityChanged:function(t){this.isVisible=t},viewScreenshot:function(t){t.match(/^https?:\/\//i)||(t="http://"+t),window.open(t,"_blank")},getProfileURL:function(t){return"https://steamcommunity.com/profiles/"+i.a.fromIndividualAccountID(t).getSteamID64()},vote:function(t,e){var s,n=this,a=(s={csrf_token:this.$store.state.authed.csrf_token},new URLSearchParams(s).toString());r.a.post("https://g2cf.metastruct.net/lsapi/vote/".concat(t,"/").concat(e,"?").concat(a)).then(function(t){if(t.data.errors)throw Error(t.data.errors.join("\n"));switch(e){case"up":case"down":n.message=e+"voted!";break;case"delete":n.message="vote removed!"}n.timeout&&clearTimeout(n.timeout),n.timeout=setTimeout(function(){n.message=""},3e3)}).catch(function(s){s.response&&304==s.response.status&&"delete"!=e?n.vote(t,"delete"):console.error(s)})},getOwnVote:function(t){if(!this.$store.state.myVotes.success)return null;var e=this.$store.state.myVotes.up.includes&&this.$store.state.myVotes.up.includes(t),s=this.$store.state.myVotes.down.includes&&this.$store.state.myVotes.down.includes(t);return e||!s&&null}}},l=(s(184),s(15)),u=Object(l.a)(c,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"observe-visibility",rawName:"v-observe-visibility",value:t.visibilityChanged,expression:"visibilityChanged"}],staticClass:"screenshot"},[t.isVisible?s("img",{class:{blurry:t.message},attrs:{src:"https://g2cf.metastruct.net/lsapi/i/"+t.screenshot.id+".jpg"},on:{click:function(e){t.viewScreenshot(t.screenshot.url)}}}):t._e(),s("div",{staticClass:"message"},[t._v(t._s(t.message))]),s("div",{staticClass:"details"},[s("div",{staticClass:"votes"},[s(t.$store.state.authed?"a":"div",{tag:"component",staticClass:"upvotes has-text-success",class:{unvoted:0==t.getOwnVote(t.screenshot.id)},on:{click:function(e){t.vote(t.screenshot.id,"up")}}},[s("i",{staticClass:"material-icons md-light"},[t._v("thumb_up")]),s("span",[t._v(t._s(t.screenshot.up))])]),s(t.$store.state.authed?"a":"div",{tag:"component",staticClass:"downvotes has-text-danger",class:{unvoted:1==t.getOwnVote(t.screenshot.id)},on:{click:function(e){t.vote(t.screenshot.id,"down")}}},[s("i",{staticClass:"material-icons md-light"},[t._v("thumb_down")]),s("span",[t._v(t._s(t.screenshot.down))])])],1),0!=t.screenshot.accountid?s("a",{staticClass:"has-text-primary",attrs:{href:t.getProfileURL(t.screenshot.accountid),target:"_blank"}},[t._v(t._s(t.screenshot.name))]):s("p",[t._v(t._s(t.screenshot.name))])])])},[],!1,null,null,null);u.options.__file="Screenshot.vue";var d={components:{Screenshot:u.exports},props:{screenshots:Array}},h=(s(186),Object(l.a)(d,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"screenshot-grid"},this._l(this.screenshots,function(t){return e("screenshot",{attrs:{screenshot:t}})}))},[],!1,null,null,null));h.options.__file="ScreenshotGrid.vue";var f=h.exports,p=(s(188),Object(l.a)({},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"google-loader"},[e("svg",{staticClass:"circular",attrs:{viewBox:"25 25 50 50"}},[e("circle",{staticClass:"path",attrs:{cx:"50",cy:"50",r:"20",fill:"none","stroke-width":"2","stroke-miterlimit":"10"}})])])},[],!1,null,null,null));p.options.__file="Loading.vue";var v=p.exports,m=s(190),g=s.n(m);r.a.defaults.withCredentials=!0;var b={components:{ScreenshotGrid:f,Loading:v},data:function(){return{dropdowns:[!1],burger:!1,screenshots:[],sortMethods:["ID","Rating","Last added","Author"],authorSearch:""}},mounted:function(){var t=this;r.a.get("https://g2cf.metastruct.net/lsapi").then(function(e){t.screenshots=e.data.result}),r.a.post("https://g2cf.metastruct.net/lsapi/auth").then(function(e){e.data&&e.data.success&&(t.$store.commit("updateAuthed",e.data),r.a.get("https://g2cf.metastruct.net/lsapi/myvotes").then(function(e){e.data&&e.data.success&&t.$store.commit("updateMyVotes",e.data)}))}).catch(function(t){t.response&&401==t.response.status||console.error(t)})},computed:{sortedScreenshots:function(){var t=this,e=this.screenshots.sort(function(e,s){switch(t.sortMethod){default:case 0:return e.id>s.id;case 1:var n=g()(e.up,e.up+e.down).left,a=g()(s.up,s.up+s.down).left;return n==a?e.id>s.id:n>a;case 2:return e.created==s.created?e.id>s.id:e.created>s.created;case 3:var r=e.name.toLowerCase(),o=s.name.toLowerCase();return r==o?e.id>s.id:r>o}});if(e)return this.sortMethodReverse&&(e=e.reverse()),e.filter(function(e){return e.name.toLowerCase().includes(t.authorSearch.toLowerCase())})},sortMethod:function(){return null==this.$route.query.sortBy?1:parseInt(this.$route.query.sortBy)},sortMethodReverse:function(){return null==this.$route.query.reverse||JSON.parse(this.$route.query.reverse)}},watch:{sortMethod:function(){var t=this;this.$nextTick(function(){t.$forceUpdate()})},authorSearch:function(){var t=this;this.$nextTick(function(){t.$forceUpdate()})}},methods:{toggleDropdown:function(t){this.$set(this.dropdowns,t,!this.dropdowns[t])}}},w=(s(191),Object(l.a)(b,function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("nav",{staticClass:"navbar is-fixed-top"},[s("div",{staticClass:"navbar-brand"},[t._m(0),s("a",{staticClass:"navbar-burger has-text-white",class:{"is-active":t.burger},on:{click:function(e){t.burger=!t.burger}}},[s("span"),s("span"),s("span")])]),s("div",{staticClass:"navbar-menu",class:{"is-active":t.burger}},[s("div",{staticClass:"navbar-start"},[s("div",{staticClass:"navbar-item has-dropdown is-hoverable"},[s("a",{staticClass:"navbar-link"},[t._v("Sort by")]),s("div",{staticClass:"navbar-dropdown"},[t._l(t.sortMethods,function(e,n){return s("nuxt-link",{staticClass:"navbar-item",class:{"is-active":t.sortMethod==n},attrs:{to:{path:t.$route.path,query:{sortBy:n,reverse:t.sortMethodReverse}}}},[t._v(t._s(e))])}),s("hr",{staticClass:"navbar-divider"}),s("nuxt-link",{staticClass:"navbar-item",class:{"is-active":0==t.sortMethodReverse},attrs:{to:{path:t.$route.path,query:{sortBy:t.sortMethod,reverse:!1}}}},[t._v("Ascending")]),s("nuxt-link",{staticClass:"navbar-item",class:{"is-active":1==t.sortMethodReverse},attrs:{to:{path:t.$route.path,query:{sortBy:t.sortMethod,reverse:!0}}}},[t._v("Descending")])],2)]),s("div",{staticClass:"navbar-item"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.authorSearch,expression:"authorSearch"}],staticClass:"input",attrs:{type:"text",placeholder:"Filter by author"},domProps:{value:t.authorSearch},on:{input:function(e){e.target.composing||(t.authorSearch=e.target.value)}}})])]),s("div",{staticClass:"navbar-end"},[t.$store.state.authed.success?s("div",{staticClass:"navbar-item"},[s("span",[t._v("Logged in")])]):s("a",{staticClass:"navbar-item",staticStyle:{display:"flex"},attrs:{href:"https://g2cf.metastruct.net/lsapi/login"}},[s("i",{staticClass:"material-icons md-light"},[t._v("person")]),s("span",[t._v(" Login")])])])])]),t._m(1),s("section",{staticClass:"section"},[t.screenshots.length>0?s("screenshot-grid",{attrs:{screenshots:t.sortedScreenshots}}):s("div",{staticClass:"google-loading"},[s("Loading")],1)],1)])},n,!1,null,null,null));w.options.__file="index.vue";e.default=w.exports}}]);